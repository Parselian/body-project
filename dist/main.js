!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r=()=>{const e=document.querySelector(".clubs-list > ul"),t=document.getElementById("free_visit_form"),o=document.getElementById("callback_form"),r=document.querySelector(".popup-menu"),n=document.querySelectorAll(".popup"),c=document.getElementById("gift");document.addEventListener("click",l=>{const s=l.target;switch(s){case s.closest(".clubs-list__title"):e.classList.toggle("fade-in");break;case s.closest(".open-popup"):t.classList.add("fade-in");break;case s.closest("#header-callback__btn"):o.classList.add("fade-in");break;case s.closest(".fixed-gift__img"):s.closest(".fixed-gift").remove(),c.classList.add("fade-in");break;case s.closest(".menu-button__img, .close-menu-btn__img, .popup-menu > ul > li > a"):r.classList.toggle("slide-burger-menu");break;case s.closest(".close-btn, .close_icon, .overlay"):n.forEach(e=>{e.classList.remove("fade-in","slide-burger-menu")})}})};var n=()=>{const e=document.querySelector("header"),t=document.getElementById("totop"),o=e.getBoundingClientRect().height;window.addEventListener("scroll",()=>{window.scrollY>=o?t.className="show":t.className=""})};var c=()=>{const e=document.querySelector(".menu-button"),t=document.querySelector(".top-menu"),o=t.getBoundingClientRect().y;window.addEventListener("scroll",()=>{document.documentElement.clientWidth<=768?(t.getBoundingClientRect().y<0&&e.closest(".top-menu").classList.add("fixed-menu__button"),window.scrollY<o&&e.closest(".top-menu").classList.remove("fixed-menu__button")):document.documentElement.clientWidth>769&&e.closest(".top-menu").classList.remove("fixed-menu__button")})};var l=e=>{const t=document.querySelector(e),o=t.querySelectorAll(".slide"),r=t.querySelector(".slider-dots");let n,c=0;o.forEach(e=>{const t=document.createElement("li");t.className="slider-dots__dot",r.appendChild(t)});const l=r.querySelectorAll(".slider-dots__dot");l[0].classList.add("slider-dots__dot_active");const s=(e=2e3)=>{n=setInterval(()=>{o[c].classList.remove("fade-in"),l[c].classList.remove("slider-dots__dot_active"),c++,c>=o.length&&(c=0),o[c].classList.add("fade-in"),l[c].classList.add("slider-dots__dot_active")},e)};t.addEventListener("mouseover",e=>{e.target.closest(".slider-arrow, .slider-dots__dot")&&clearInterval(n)}),t.addEventListener("mouseout",e=>{e.target.matches(".slider-dots__dot, .slider-arrow")&&s()}),t.addEventListener("click",e=>{const t=e.target;o[c].classList.remove("fade-in"),l[c].classList.remove("slider-dots__dot_active"),t.closest(".slider-arrow.prev")?c--:t.closest(".slider-arrow.next")?c++:t.closest(".slider-dots__dot")&&l.forEach((e,o)=>{e.classList.remove("slider-dots__dot_active"),e===t&&(e.classList.add("slider-dots__dot_active"),c=o)}),c>=o.length?c=0:c<0&&(c=o.length-1),o[c].classList.add("fade-in"),l[c].classList.add("slider-dots__dot_active")}),s()};var s=()=>{const e=document.querySelector(".services-slider"),t=document.querySelector(".services-slider-wrap"),o=e.querySelectorAll(".slide");let r,n=0,c=5;const l=()=>{let e=window.innerWidth;e<1200&&e>=991&&(c=4),e<991&&e>=768&&(c=3),e<768&&e>=479&&(c=2),e<479&&(c=1),r=Math.floor(100/c)};l(),window.addEventListener("resize",l),e.addEventListener("click",e=>{const l=e.target;switch(l){case l.closest(".slider-arrow.prev, .slider-arrow.prev > img"):n>=0&&(--n,n<0&&(n=o.length-c),t.style.transform=`translateX(-${n*r}%)`);break;case l.closest(".slider-arrow.next, .slider-arrow.next > img"):n<=o.length-c&&(++n,n>o.length-c&&(n=0),t.style.transform=`translateX(-${n*r}%)`)}})};var a=()=>{const e=document.querySelector(".calculator"),t=document.querySelectorAll('input[name="card-type"]'),o=document.getElementById("card_leto_schelkovo"),r=document.getElementById("card_leto_mozaika"),n=document.getElementById("promocode"),c=document.getElementById("price-total");e&&e.addEventListener("input",()=>{let e;t.forEach(t=>{if(t.checked&&(o.checked||r.checked))switch(+t.value){case 1:e=r.checked?1999:2999;break;case 6:e=r.checked?9990:14990;break;case 9:e=r.checked?13900:21990;break;case 12:e=r.checked?19900:24990}}),"ТЕЛО2019"===n.value&&(o.checked||r.checked)?c.textContent=Math.floor(.7*e):c.textContent=e})};var d=function(e,t="+7 (___) ___-__-__"){const o=document.querySelector(e);function r(e){const o=e.keyCode,r=t,n=r.replace(/\D/g,""),c=this.value.replace(/\D/g,"");let l=0,s=r.replace(/[_\d]/g,(function(e){return l<c.length?c.charAt(l++)||n.charAt(l):e}));l=s.indexOf("_"),-1!=l&&(s=s.slice(0,l));let a=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||o>47&&o<58)&&(this.value=s),"blur"==e.type&&this.value.length<5&&(this.value="")}o.addEventListener("input",r),o.addEventListener("focus",r),o.addEventListener("blur",r)};var i=e=>{const t=document.getElementById("thanks"),o=document.getElementById("error"),r=document.querySelector(e),n=r.querySelectorAll("input"),c=r.querySelector(".check"),l=r.querySelector("#footer_leto_mozaika"),s=r.querySelector("#footer_leto_schelkovo"),a=document.createElement("div"),d=document.getElementById("price-total"),i=document.createElement("div");i.textContent="Пожалуйста, поставьте галочку!",i.className="check_error";let u,m=0;r.addEventListener("input",e=>{const t=e.target;"promocode"!==t.id&&("name"===t.name?t.value=t.value.replace(/[^а-я|А-Я| ]/g,""):"phone"===t.name&&(t.value=t.value.replace(/^\D/g,"")))}),r.addEventListener("submit",e=>{e.preventDefault(),i.remove();const f=new FormData(r),v={};if(f.forEach((e,t)=>{v[t]=e}),!(c&&c.checked||s&&s.checked||l&&l.checked))return r.appendChild(i),!1;a.className="spinner",r.appendChild(a),u=setInterval(()=>{m+=5,m>=360&&(m=0),a.style.transform=`rotate(${m}deg)`},20),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(v).then(e=>{if(clearInterval(u),a.remove(),200!==e.status)throw o.classList.add("fade-in"),new Error("Something wrong! network status isn`t 200");t.classList.add("fade-in"),n.forEach(e=>{"form_name"!==e.name&&("checkbox"===e.type||"radio"===e.type?e.checked=!1:l||s?(l.checked=!1,s.checked=!1):e.value="")}),d.textContent=""}).catch(e=>{console.error(e)})})};var u=()=>{const e=[].slice.call(document.querySelectorAll('a[href*="#"]'));e.forEach(e=>{e.addEventListener("click",t=>{if("redirect"===e.className)return;let o;t.preventDefault(),o=document.querySelector(e.getAttribute("href")).getBoundingClientRect().top+window.scrollY;const r=setInterval(()=>{let t=o/50;if(t>window.scrollY-o&&window.innerHeight+window.scrollY<document.body.offsetHeight)window.scrollBy(0,t);else if("totop"===e.id){const e=setInterval(()=>{if(!(Math.max(document.body.scrollTop,document.documentElement.scrollTop)>0))return clearInterval(e),!1;window.scrollBy(0,-50)},8);clearInterval(r)}else window.scrollTo(0,o),clearInterval(r)},8)})})};document.addEventListener("DOMContentLoaded",()=>{r(),n(),c(),u(),l(".main-slider"),l(".gallery-slider"),s(),a(),d("#callback_form-phone"),d("#callback_form1-phone"),d("#callback_form2-phone"),d("#callback_footer_form-phone"),d("#phone"),i('form[name="callback-form"]'),i('form[name="free-visit-form"]'),i('form[name="banner-form"]'),i("#card_order"),i("#footer_form")})}]);