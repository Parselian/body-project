!function(e){var t={};function r(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(o,s,function(t){return e[t]}.bind(null,s));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var o=()=>{const e=document.querySelector(".clubs-list > ul"),t=document.getElementById("free_visit_form"),r=document.getElementById("callback_form"),o=document.querySelector(".popup-menu"),s=document.querySelectorAll(".popup"),n=document.getElementById("gift");document.addEventListener("click",c=>{const l=c.target;switch(l){case l.closest(".clubs-list__title"):e.classList.toggle("show");break;case l.closest(".open-popup"):t.classList.add("show");break;case l.closest("#header-callback__btn"):r.classList.add("show");break;case l.closest(".fixed-gift__img"):l.closest(".fixed-gift").remove(),n.classList.add("show");break;case l.closest(".menu-button__img, .close-menu-btn__img, .popup-menu > ul > li > a"):o.classList.toggle("show-flex");break;case l.closest(".close-btn, .close_icon, .overlay"):s.forEach(e=>{e.classList.remove("show")})}})};var s=()=>{const e=document.querySelector("header"),t=document.getElementById("totop"),r=e.getBoundingClientRect().height;window.addEventListener("scroll",()=>{window.scrollY>=r?t.className="show":t.className=""})};var n=()=>{const e=document.querySelector(".menu-button"),t=document.querySelector(".top-menu"),r=t.getBoundingClientRect().y;window.addEventListener("scroll",()=>{document.documentElement.clientWidth<=768?(t.getBoundingClientRect().y<0&&e.closest(".top-menu").classList.add("fixed-menu__button"),window.scrollY<r&&e.closest(".top-menu").classList.remove("fixed-menu__button")):document.documentElement.clientWidth>769&&e.closest(".top-menu").classList.remove("fixed-menu__button")})};var c=e=>{const t=document.querySelector(e),r=t.querySelectorAll(".slide"),o=t.querySelector(".slider-dots");let s,n=0;r.forEach(e=>{const t=document.createElement("li");t.className="slider-dots__dot",o.appendChild(t)});const c=o.querySelectorAll(".slider-dots__dot");c[0].classList.add("slider-dots__dot_active");const l=(e=2e3)=>{s=setInterval(()=>{r[n].classList.remove("fade-in"),c[n].classList.remove("slider-dots__dot_active"),n++,n>=r.length&&(n=0),r[n].classList.add("fade-in"),c[n].classList.add("slider-dots__dot_active")},e)};t.addEventListener("mouseover",e=>{e.target.closest(".slider-arrow, .slider-dots__dot")&&clearInterval(s)}),t.addEventListener("mouseout",e=>{e.target.matches(".slider-dots__dot, .slider-arrow")&&l()}),t.addEventListener("click",e=>{const t=e.target;r[n].classList.remove("fade-in"),c[n].classList.remove("slider-dots__dot_active"),t.closest(".slider-arrow.prev")?n--:t.closest(".slider-arrow.next")?n++:t.closest(".slider-dots__dot")&&c.forEach((e,r)=>{e.classList.remove("slider-dots__dot_active"),e===t&&(e.classList.add("slider-dots__dot_active"),n=r)}),n>=r.length?n=0:n<0&&(n=r.length-1),r[n].classList.add("fade-in"),c[n].classList.add("slider-dots__dot_active")}),l()};var l=()=>{const e=document.querySelector(".services-slider"),t=document.querySelector(".services-slider-wrap"),r=e.querySelectorAll(".slide");let o,s=0,n=5;const c=()=>{let e=window.innerWidth;e<1200&&e>=991&&(n=4),e<991&&e>=768&&(n=3),e<768&&e>=479&&(n=2),e<479&&(n=1),o=Math.floor(100/n)};c(),window.addEventListener("resize",c),e.addEventListener("click",e=>{const c=e.target;switch(c){case c.closest(".slider-arrow.prev, .slider-arrow.prev > img"):s>=0&&(--s,s<0&&(s=r.length-n),t.style.transform=`translateX(-${s*o}%)`);break;case c.closest(".slider-arrow.next, .slider-arrow.next > img"):s<=r.length-n&&(++s,s>r.length-n&&(s=0),t.style.transform=`translateX(-${s*o}%)`)}})};var a=()=>{const e=document.querySelector(".calculator"),t=document.querySelectorAll('input[name="card-type"]'),r=document.getElementById("card_leto_mozaika"),o=document.getElementById("promocode"),s=document.getElementById("price-total");e&&e.addEventListener("input",()=>{let e;t.forEach(t=>{if(t.checked)switch(+t.value){case 1:e=r.checked?1999:2999;break;case 6:e=r.checked?9990:14990;break;case 9:e=r.checked?13900:21990;break;case 12:e=r.checked?19900:24990}}),"ТЕЛО2019"===o.value?s.textContent=Math.floor(.7*e):s.textContent=e})};var d=function(e,t="+7 (___) ___-__-__"){const r=document.querySelector(e);function o(e){const r=e.keyCode,o=t,s=o.replace(/\D/g,""),n=this.value.replace(/\D/g,"");let c=0,l=o.replace(/[_\d]/g,(function(e){return c<n.length?n.charAt(c++)||s.charAt(c):e}));c=l.indexOf("_"),-1!=c&&(l=l.slice(0,c));let a=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||r>47&&r<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}r.addEventListener("input",o),r.addEventListener("focus",o),r.addEventListener("blur",o)};var i=e=>{const t=document.getElementById("thanks"),r=document.getElementById("error"),o=document.querySelector(e),s=o.querySelectorAll("input"),n=o.querySelector(".check"),c=document.createElement("div"),l=document.createElement("div");l.textContent="Пожалуйста, поставьте галочку!",l.className="check_error";let a,d=0;o.addEventListener("input",e=>{const t=e.target;switch(t.name){case"name":t.value=t.value.replace(/[^а-я|А-Я| ]/g,"");break;case"phone":t.value=t.value.replace(/^\D/g,"")}}),o.addEventListener("submit",e=>{e.preventDefault(),l.remove();const i=new FormData(o);if(!n.checked)return o.appendChild(l),!1;c.className="spinner",o.appendChild(c),a=setInterval(()=>{d+=5,d>=360&&(d=0),c.style.transform=`rotate(${d}deg)`},20),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e}))(i).then(e=>{if(clearInterval(a),c.remove(),200!==e.status)throw r.classList.add("show"),new Error("Something wrong! network status isn`t 200");t.classList.add("show"),s.forEach(e=>{"radio"!==e.type&&("checkbox"===e.type?e.checked=!1:e.value="")})}).catch(e=>{console.error(e)})})};document.addEventListener("DOMContentLoaded",()=>{o(),s(),n(),c(".main-slider"),c(".gallery-slider"),l(),a(),d("#callback_form-phone"),d("#callback_form1-phone"),d("#callback_form2-phone"),d("#callback_footer_form-phone"),d("#phone"),i('form[name="callback-form"]'),i('form[name="free-visit-form"]'),i('form[name="banner-form"]'),i("#card_order")})}]);